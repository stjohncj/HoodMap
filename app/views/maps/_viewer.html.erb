<div class="map-container">
  <div id="sites" data-latitude=<%= mhd_center_lat %> data-longitude=<%= mhd_center_lng %> role="region" aria-label="Interactive map of historic district">
    <div id="map" role="application" aria-label="Google Maps showing Marquette Historic District locations"></div>

    <!-- Modal overlay for site details - positioned within map area -->
    <div id="site-modal" class="site-modal-map-overlay" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="modal-site-title">
      <div class="modal-backdrop-map" aria-hidden="true"></div>
      <div class="modal-content-map">
        <div class="modal-header">
          <button class="modal-close" aria-label="Close site details">
            <i class="fas fa-times" aria-hidden="true"></i>
          </button>
        </div>
        <div class="modal-body" id="modal-site-content" role="document">
          <!-- Site content will be loaded here -->
        </div>
      </div>
    </div>
  </div>

  <aside class="sites-sidebar" role="complementary" aria-label="List of historic sites">
    <h2>Historic Sites</h2>
    <ol role="list">
      <% sites.each_with_index do |site, index| %>
        <%
          aria_label = "#{site.historic_name}, #{site.address}"
          aria_label += ", #{site.architectural_style} style" if site.architectural_style.present?
          aria_label += ", built #{site.built_year}" if site.built_year
        %>
        <li class="site-list-item"
          role="button"
          tabindex="0"
          aria-label="<%= aria_label %>"
          data-latitude=<%=site.latitude %>
          data-longitude=<%= site.longitude %>
          data-id=<%= site.id %>
          data-index=<%= index %>
          data-historic-name="<%= site.historic_name %>"
          data-address="<%= site.address %>"
          data-description="<%= site.description %>"
          data-built-year="<%= site.built_year %>"
        >
            <h4><%= site.historic_name %></h4>
            <p class="address"><%= site.address %></p>
            <% if site.architectural_style.present? %>
              <p class="architectural-style"><small><%= site.architectural_style %></small></p>
            <% end %>
            <% if site.built_year %>
              <p><small>Built: <%= site.built_year %></small></p>
            <% end %>
        </li>
      <% end %>
    </ol>
  </aside>
</div>